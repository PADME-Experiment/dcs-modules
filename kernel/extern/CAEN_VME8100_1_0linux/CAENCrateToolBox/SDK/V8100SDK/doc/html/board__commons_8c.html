<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CAEN V8100 SDK: board_commons.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>board_commons.c File Reference</h1>Board common features implementation. <a href="#_details">More...</a>
<p>
<code>#include &lt;memory.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &quot;com_phy_layer.h&quot;</code><br>
<code>#include &quot;<a class="el" href="board__commons_8h-source.html">board_commons.h</a>&quot;</code><br>

<p>
<a href="board__commons_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UINT8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#ff46a0aae7f9bd7413537ff0e609db56">ror_bits</a> (UINT8 data, int num_bits)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perfoms a num_bits bitwise right rotation of data byte.  <a href="#ff46a0aae7f9bd7413537ff0e609db56"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UINT8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#d2ec60491674ca1876727b37fe34fbf7">swap_bits</a> (UINT8 data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Swaps the bits of the source byte.  <a href="#d2ec60491674ca1876727b37fe34fbf7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#f9d503d4277d389d8b64f15d3901b94d">delay</a> (int msec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Waits for specified time.  <a href="#f9d503d4277d389d8b64f15d3901b94d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">UINT32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#00496936f68c2b4d8c8a462717adee5f">get_time</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the time in milliseconds since first procedure call.  <a href="#00496936f68c2b4d8c8a462717adee5f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#029723076ce17c98676abf94f394cde4">board_open</a> (<a class="el" href="structboard__data.html">board_data</a> *p_data, const CPLConfig *p_com_config, const <a class="el" href="structcmd__table.html">cmd_table</a> *p_cmd_table)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Basic board open.  <a href="#029723076ce17c98676abf94f394cde4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#ee7a41862d625903545e8fbe1b4e5dd2">board_close</a> (<a class="el" href="structboard__data.html">board_data</a> *p_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Basic board close.  <a href="#ee7a41862d625903545e8fbe1b4e5dd2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#9c6c7f952ed98b16176b28e4f368d882">send_buffer</a> (<a class="el" href="structboard__data.html">board_data</a> *p_data, const UINT8 *buff, UINT16 buff_size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a data buffer to board.  <a href="#9c6c7f952ed98b16176b28e4f368d882"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#d62385e288d51f1a8c25d6fb9876c450">receive_buffer</a> (<a class="el" href="structboard__data.html">board_data</a> *p_data, UINT8 *buff, UINT16 *buff_size, int timeout_msec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read up to *buff_size BYTEs from board.  <a href="#d62385e288d51f1a8c25d6fb9876c450"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#ae8a17e00c2eb0b73d0b59e39146677a">get_last_answer</a> (<a class="el" href="structboard__data.html">board_data</a> *p_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the answer to the last successfull sent command.  <a href="#ae8a17e00c2eb0b73d0b59e39146677a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">CMD_ERROR_CODE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#6f3e5f1470da329829855cb63620ee3d">get_last_error</a> (<a class="el" href="structboard__data.html">board_data</a> *p_data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the last error code.  <a href="#6f3e5f1470da329829855cb63620ee3d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="board__commons_8c.html#4de9e623baac1f9d353d851468ea6ca3">send_cmd</a> (<a class="el" href="structboard__data.html">board_data</a> *p_data, int cmd_index, int ch_index, const void *cmd_value, void *cmd_result, int cmd_result_size, CMD_ERROR_CODE *error_code)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a command to the specified channel.  <a href="#4de9e623baac1f9d353d851468ea6ca3"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Board common features implementation. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>NDA </dd></dl>
<dl class="version" compact><dt><b>Version:</b></dt><dd>1.0 </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>03/2006</dd></dl>
boards common APIs: These APIs provide features common to every board. 
<p>Definition in file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ee7a41862d625903545e8fbe1b4e5dd2"></a><!-- doxytag: member="board_commons.c::board_close" ref="ee7a41862d625903545e8fbe1b4e5dd2" args="(board_data *p_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> board_close           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboard__data.html">board_data</a> *&nbsp;</td>
          <td class="paramname"> <em>p_data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Basic board close. 
<p>
Provides basic handling for board closing, common to all the boards. It tries to close the communication channel, too. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_data</em>&nbsp;</td><td>Pointer to board data </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE: board successfully closed </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This API if typically called by derived boards during close procedure. </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00234">234</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

<p>References <a class="el" href="common__defs_8h-source.html#l00037">FALSE</a>, <a class="el" href="board__commons_8h-source.html#l00141">board_data::m_p_asw_buff</a>, <a class="el" href="board__commons_8h-source.html#l00137">board_data::m_p_cpl_object</a>, <a class="el" href="board__commons_8h-source.html#l00139">board_data::m_p_last_sent_cmd</a>, <a class="el" href="board__commons_8h-source.html#l00143">board_data::m_p_tmp_asw_buff</a>, and <a class="el" href="common__defs_8h-source.html#l00034">TRUE</a>.</p>

<p>Referenced by <a class="el" href="_v8100_8c-source.html#l00183">V8100_close()</a>.</p>

</div>
</div><p>
<a class="anchor" name="029723076ce17c98676abf94f394cde4"></a><!-- doxytag: member="board_commons.c::board_open" ref="029723076ce17c98676abf94f394cde4" args="(board_data *p_data, const CPLConfig *p_com_config, const cmd_table *p_cmd_table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> board_open           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboard__data.html">board_data</a> *&nbsp;</td>
          <td class="paramname"> <em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CPLConfig *&nbsp;</td>
          <td class="paramname"> <em>p_com_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcmd__table.html">cmd_table</a> *&nbsp;</td>
          <td class="paramname"> <em>p_cmd_table</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Basic board open. 
<p>
Provides basic handling for board opening, common to all the boards. It tries to open the communication channel, too. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_data</em>&nbsp;</td><td>Pointer to board data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_com_config</em>&nbsp;</td><td>The communication physical layer device settings </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_cmd_table</em>&nbsp;</td><td>The board specific command table pointer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE: board successfully opened </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This API if typically called by derived boards during open procedure. </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00199">199</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

<p>References <a class="el" href="common__defs_8h-source.html#l00037">FALSE</a>, <a class="el" href="board__commons_8h-source.html#l00142">board_data::m_asw_buff_len</a>, <a class="el" href="board__commons_8h-source.html#l00141">board_data::m_p_asw_buff</a>, <a class="el" href="board__commons_8h-source.html#l00138">board_data::m_p_cmd_table</a>, <a class="el" href="board__commons_8h-source.html#l00137">board_data::m_p_cpl_object</a>, <a class="el" href="board__commons_8h-source.html#l00139">board_data::m_p_last_sent_cmd</a>, <a class="el" href="board__commons_8h-source.html#l00143">board_data::m_p_tmp_asw_buff</a>, and <a class="el" href="common__defs_8h-source.html#l00034">TRUE</a>.</p>

<p>Referenced by <a class="el" href="_v8100_8c-source.html#l00105">V8100_open_com()</a>, and <a class="el" href="_v8100_8c-source.html#l00157">V8100_open_eth()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f9d503d4277d389d8b64f15d3901b94d"></a><!-- doxytag: member="board_commons.c::delay" ref="f9d503d4277d389d8b64f15d3901b94d" args="(int msec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delay           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msec</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Waits for specified time. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msec</em>&nbsp;</td><td>The time delay to wait (msec) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00074">74</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="ae8a17e00c2eb0b73d0b59e39146677a"></a><!-- doxytag: member="board_commons.c::get_last_answer" ref="ae8a17e00c2eb0b73d0b59e39146677a" args="(board_data *p_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * get_last_answer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboard__data.html">board_data</a> *&nbsp;</td>
          <td class="paramname"> <em>p_data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the answer to the last successfull sent command. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_data</em>&nbsp;</td><td>Pointer to board data </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The answer buffer </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00338">338</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

<p>References <a class="el" href="board__commons_8h-source.html#l00142">board_data::m_asw_buff_len</a>, <a class="el" href="board__commons_8h-source.html#l00141">board_data::m_p_asw_buff</a>, and <a class="el" href="board__commons_8h-source.html#l00143">board_data::m_p_tmp_asw_buff</a>.</p>

</div>
</div><p>
<a class="anchor" name="6f3e5f1470da329829855cb63620ee3d"></a><!-- doxytag: member="board_commons.c::get_last_error" ref="6f3e5f1470da329829855cb63620ee3d" args="(board_data *p_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CMD_ERROR_CODE get_last_error           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboard__data.html">board_data</a> *&nbsp;</td>
          <td class="paramname"> <em>p_data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the last error code. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_data</em>&nbsp;</td><td>Pointer to board data </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The error code <a class="el" href="board__commons_8h.html#2690bdb37a3d9e580f3d033f338937bc">_CMD_ERROR_CODE</a> </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00359">359</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

<p>References <a class="el" href="board__commons_8h-source.html#l00140">board_data::m_last_cmd_err</a>.</p>

</div>
</div><p>
<a class="anchor" name="00496936f68c2b4d8c8a462717adee5f"></a><!-- doxytag: member="board_commons.c::get_time" ref="00496936f68c2b4d8c8a462717adee5f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT32 get_time           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the time in milliseconds since first procedure call. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The time in milliseconds since first procedure call </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00088">88</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

<p>Referenced by <a class="el" href="board__commons_8c-source.html#l00294">receive_buffer()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d62385e288d51f1a8c25d6fb9876c450"></a><!-- doxytag: member="board_commons.c::receive_buffer" ref="d62385e288d51f1a8c25d6fb9876c450" args="(board_data *p_data, UINT8 *buff, UINT16 *buff_size, int timeout_msec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> receive_buffer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboard__data.html">board_data</a> *&nbsp;</td>
          <td class="paramname"> <em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT8 *&nbsp;</td>
          <td class="paramname"> <em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT16 *&nbsp;</td>
          <td class="paramname"> <em>buff_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout_msec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read up to *buff_size BYTEs from board. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_data</em>&nbsp;</td><td>Pointer to board data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buff</em>&nbsp;</td><td>The user allocated buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buff_size</em>&nbsp;</td><td>The user allocated buffer size (on enter) and the number of BYTEs read (on exit) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout_msec</em>&nbsp;</td><td>The timeout between bytes receive (msec) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE read procedure ok </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00294">294</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

<p>References <a class="el" href="board__commons_8h-source.html#l00098">CMD_ERR_OK</a>, <a class="el" href="board__commons_8h-source.html#l00106">CMD_ERR_RX</a>, <a class="el" href="board__commons_8h-source.html#l00104">CMD_ERR_TOUT</a>, <a class="el" href="common__defs_8h-source.html#l00037">FALSE</a>, <a class="el" href="board__commons_8c-source.html#l00088">get_time()</a>, <a class="el" href="board__commons_8h-source.html#l00142">board_data::m_asw_buff_len</a>, <a class="el" href="board__commons_8h-source.html#l00140">board_data::m_last_cmd_err</a>, <a class="el" href="board__commons_8h-source.html#l00137">board_data::m_p_cpl_object</a>, and <a class="el" href="common__defs_8h-source.html#l00034">TRUE</a>.</p>

<p>Referenced by <a class="el" href="board__commons_8c-source.html#l00372">send_cmd()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ff46a0aae7f9bd7413537ff0e609db56"></a><!-- doxytag: member="board_commons.c::ror_bits" ref="ff46a0aae7f9bd7413537ff0e609db56" args="(UINT8 data, int num_bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT8 ror_bits           </td>
          <td>(</td>
          <td class="paramtype">UINT8&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_bits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perfoms a num_bits bitwise right rotation of data byte. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>The source byte to rotate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_bits</em>&nbsp;</td><td>The number of bits to rotate </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Converted data </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00048">48</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="9c6c7f952ed98b16176b28e4f368d882"></a><!-- doxytag: member="board_commons.c::send_buffer" ref="9c6c7f952ed98b16176b28e4f368d882" args="(board_data *p_data, const UINT8 *buff, UINT16 buff_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> send_buffer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboard__data.html">board_data</a> *&nbsp;</td>
          <td class="paramname"> <em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UINT8 *&nbsp;</td>
          <td class="paramname"> <em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT16&nbsp;</td>
          <td class="paramname"> <em>buff_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a data buffer to board. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_data</em>&nbsp;</td><td>Pointer to board data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buff</em>&nbsp;</td><td>The data buffer to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buff_size</em>&nbsp;</td><td>The data buffer size (BYTEs) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE send procedure ok </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00269">269</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

<p>References <a class="el" href="board__commons_8h-source.html#l00098">CMD_ERR_OK</a>, <a class="el" href="board__commons_8h-source.html#l00105">CMD_ERR_TX</a>, <a class="el" href="common__defs_8h-source.html#l00037">FALSE</a>, <a class="el" href="board__commons_8h-source.html#l00140">board_data::m_last_cmd_err</a>, <a class="el" href="board__commons_8h-source.html#l00137">board_data::m_p_cpl_object</a>, and <a class="el" href="common__defs_8h-source.html#l00034">TRUE</a>.</p>

<p>Referenced by <a class="el" href="board__commons_8c-source.html#l00372">send_cmd()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4de9e623baac1f9d353d851468ea6ca3"></a><!-- doxytag: member="board_commons.c::send_cmd" ref="4de9e623baac1f9d353d851468ea6ca3" args="(board_data *p_data, int cmd_index, int ch_index, const void *cmd_value, void *cmd_result, int cmd_result_size, CMD_ERROR_CODE *error_code)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> <a class="el" href="common__defs_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> send_cmd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structboard__data.html">board_data</a> *&nbsp;</td>
          <td class="paramname"> <em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ch_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>cmd_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cmd_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cmd_result_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CMD_ERROR_CODE *&nbsp;</td>
          <td class="paramname"> <em>error_code</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a command to the specified channel. 
<p>
Sends a command to the specified channel and waits for the answer<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p_data</em>&nbsp;</td><td>Pointer to board data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd_index</em>&nbsp;</td><td>The index of the command (as from the board specific COMMANDS enumerator) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ch_index</em>&nbsp;</td><td>The channel index to with send the command </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd_value</em>&nbsp;</td><td>The command input parameter value's pointer according to the <a class="el" href="structcmd__table.html" title="Board commands table entry.">cmd_table</a> format: may be null if no input parameter is required </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd_result</em>&nbsp;</td><td>The command result value's pointer according to the <a class="el" href="structcmd__table.html" title="Board commands table entry.">cmd_table</a> format: may be null if no result value is expected </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd_result_size</em>&nbsp;</td><td>The cmd_result storage size : meaningful for CMD_PTYPE_STRING result only </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_code</em>&nbsp;</td><td>The communication error code pointer (my be null) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE send procedure ok </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00372">372</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

<p>References <a class="el" href="board__commons_8h-source.html#l00062">CMD_ASW_CH_ERR</a>, <a class="el" href="board__commons_8h-source.html#l00056">CMD_ASW_CMD_ERR</a>, <a class="el" href="board__commons_8h-source.html#l00032">CMD_ASW_OK</a>, <a class="el" href="board__commons_8h-source.html#l00044">CMD_ASW_OK_FLOAT</a>, <a class="el" href="board__commons_8h-source.html#l00038">CMD_ASW_OK_INT</a>, <a class="el" href="board__commons_8h-source.html#l00050">CMD_ASW_OK_STRING</a>, <a class="el" href="board__commons_8h-source.html#l00068">CMD_ASW_PAR_ERR</a>, <a class="el" href="board__commons_8h-source.html#l00074">CMD_ASW_VAL_ERR</a>, <a class="el" href="board__commons_8h-source.html#l00103">CMD_ERR_BADASW</a>, <a class="el" href="board__commons_8h-source.html#l00100">CMD_ERR_CH</a>, <a class="el" href="board__commons_8h-source.html#l00099">CMD_ERR_CMD</a>, <a class="el" href="board__commons_8h-source.html#l00098">CMD_ERR_OK</a>, <a class="el" href="board__commons_8h-source.html#l00101">CMD_ERR_PAR</a>, <a class="el" href="board__commons_8h-source.html#l00102">CMD_ERR_VAL</a>, <a class="el" href="board__commons_8h-source.html#l00087">CMD_PTYPE_FLOAT</a>, <a class="el" href="board__commons_8h-source.html#l00086">CMD_PTYPE_INT</a>, <a class="el" href="board__commons_8h-source.html#l00085">CMD_PTYPE_NONE</a>, <a class="el" href="board__commons_8h-source.html#l00088">CMD_PTYPE_STRING</a>, <a class="el" href="common__defs_8h-source.html#l00037">FALSE</a>, <a class="el" href="board__commons_8h-source.html#l00117">cmd_table::m_cmd_string</a>, <a class="el" href="board__commons_8h-source.html#l00140">board_data::m_last_cmd_err</a>, <a class="el" href="board__commons_8h-source.html#l00119">cmd_table::m_max_ch_index</a>, <a class="el" href="board__commons_8h-source.html#l00122">cmd_table::m_max_value</a>, <a class="el" href="board__commons_8h-source.html#l00118">cmd_table::m_min_ch_index</a>, <a class="el" href="board__commons_8h-source.html#l00121">cmd_table::m_min_value</a>, <a class="el" href="board__commons_8h-source.html#l00141">board_data::m_p_asw_buff</a>, <a class="el" href="board__commons_8h-source.html#l00138">board_data::m_p_cmd_table</a>, <a class="el" href="board__commons_8h-source.html#l00139">board_data::m_p_last_sent_cmd</a>, <a class="el" href="board__commons_8h-source.html#l00120">cmd_table::m_param_type</a>, <a class="el" href="board__commons_8h-source.html#l00123">cmd_table::m_result_type</a>, <a class="el" href="board__commons_8c-source.html#l00294">receive_buffer()</a>, <a class="el" href="board__commons_8c-source.html#l00269">send_buffer()</a>, and <a class="el" href="common__defs_8h-source.html#l00034">TRUE</a>.</p>

<p>Referenced by <a class="el" href="_v8100_8c-source.html#l00492">V8100_mon_canadd()</a>, <a class="el" href="_v8100_8c-source.html#l00482">V8100_mon_canbr()</a>, <a class="el" href="_v8100_8c-source.html#l00343">V8100_mon_crname()</a>, <a class="el" href="_v8100_8c-source.html#l00448">V8100_mon_crst()</a>, <a class="el" href="_v8100_8c-source.html#l00394">V8100_mon_fan1()</a>, <a class="el" href="_v8100_8c-source.html#l00404">V8100_mon_fan2()</a>, <a class="el" href="_v8100_8c-source.html#l00414">V8100_mon_fan3()</a>, <a class="el" href="_v8100_8c-source.html#l00384">V8100_mon_fansp()</a>, <a class="el" href="_v8100_8c-source.html#l00424">V8100_mon_fufrel()</a>, <a class="el" href="_v8100_8c-source.html#l00438">V8100_mon_fusnum()</a>, <a class="el" href="_v8100_8c-source.html#l00431">V8100_mon_futemp()</a>, <a class="el" href="_v8100_8c-source.html#l00273">V8100_mon_imax()</a>, <a class="el" href="_v8100_8c-source.html#l00266">V8100_mon_imin()</a>, <a class="el" href="_v8100_8c-source.html#l00287">V8100_mon_imon()</a>, <a class="el" href="_v8100_8c-source.html#l00502">V8100_mon_ipadd()</a>, <a class="el" href="_v8100_8c-source.html#l00516">V8100_mon_ipgtw()</a>, <a class="el" href="_v8100_8c-source.html#l00509">V8100_mon_ipmsk()</a>, <a class="el" href="_v8100_8c-source.html#l00280">V8100_mon_ires()</a>, <a class="el" href="_v8100_8c-source.html#l00259">V8100_mon_iset()</a>, <a class="el" href="_v8100_8c-source.html#l00523">V8100_mon_macadd()</a>, <a class="el" href="_v8100_8c-source.html#l00203">V8100_mon_name()</a>, <a class="el" href="_v8100_8c-source.html#l00350">V8100_mon_numch()</a>, <a class="el" href="_v8100_8c-source.html#l00238">V8100_mon_ovp()</a>, <a class="el" href="_v8100_8c-source.html#l00360">V8100_mon_psfrel()</a>, <a class="el" href="_v8100_8c-source.html#l00374">V8100_mon_pssnum()</a>, <a class="el" href="_v8100_8c-source.html#l00367">V8100_mon_pstemp()</a>, <a class="el" href="_v8100_8c-source.html#l00472">V8100_mon_rs232br()</a>, <a class="el" href="_v8100_8c-source.html#l00294">V8100_mon_stat()</a>, <a class="el" href="_v8100_8c-source.html#l00245">V8100_mon_uvp()</a>, <a class="el" href="_v8100_8c-source.html#l00224">V8100_mon_vmax()</a>, <a class="el" href="_v8100_8c-source.html#l00217">V8100_mon_vmin()</a>, <a class="el" href="_v8100_8c-source.html#l00252">V8100_mon_vmon()</a>, <a class="el" href="_v8100_8c-source.html#l00458">V8100_mon_vpmax()</a>, <a class="el" href="_v8100_8c-source.html#l00465">V8100_mon_vpmin()</a>, <a class="el" href="_v8100_8c-source.html#l00231">V8100_mon_vres()</a>, <a class="el" href="_v8100_8c-source.html#l00210">V8100_mon_vset()</a>, <a class="el" href="_v8100_8c-source.html#l00555">V8100_set_clr()</a>, <a class="el" href="_v8100_8c-source.html#l00562">V8100_set_fansp()</a>, <a class="el" href="_v8100_8c-source.html#l00316">V8100_set_iset()</a>, <a class="el" href="_v8100_8c-source.html#l00541">V8100_set_off()</a>, <a class="el" href="_v8100_8c-source.html#l00534">V8100_set_on()</a>, <a class="el" href="_v8100_8c-source.html#l00323">V8100_set_ovp()</a>, <a class="el" href="_v8100_8c-source.html#l00548">V8100_set_sysr()</a>, <a class="el" href="_v8100_8c-source.html#l00331">V8100_set_uvp()</a>, and <a class="el" href="_v8100_8c-source.html#l00309">V8100_set_vset()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d2ec60491674ca1876727b37fe34fbf7"></a><!-- doxytag: member="board_commons.c::swap_bits" ref="d2ec60491674ca1876727b37fe34fbf7" args="(UINT8 data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT8 swap_bits           </td>
          <td>(</td>
          <td class="paramtype">UINT8&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Swaps the bits of the source byte. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>The source byte to swap </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Converted data </dd></dl>

<p>Definition at line <a class="el" href="board__commons_8c-source.html#l00060">60</a> of file <a class="el" href="board__commons_8c-source.html">board_commons.c</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Oct 7 11:14:31 2008 for CAEN V8100 SDK by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
